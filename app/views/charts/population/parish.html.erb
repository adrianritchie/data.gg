<%= render 'head' %>

<div id="container" style="min-width: 310px; max-width: 800px"></div>

<%= javascript_tag do %>
$(function() {
  initPage();
});
$(window).bind('page:change', function() {
  initPage();
});

function initPage() {
    // Prepare random data
    var data = [
    ];

    $.getJSON('http://localhost:3000/guernsey.json', function (geojson) {

        // Initiate the chart
        $('#container').highcharts('Map', {

            title : {
                text : 'Guernsey'
            },

            mapNavigation: {
                enabled: true,
                buttonOptions: {
                    verticalAlign: 'bottom'
                }
            },

            colorAxis: {
            },

            xAxis: {
                minRange: 0.1
            },

            yAxis: {
                minRange: 0.1
            },


            series : [{
                data : data,
                mapData: geojson,
                name: 'Random data',
            }]
        });
    });
}
<% end %>